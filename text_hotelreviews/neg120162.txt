confusion over booking on arrival bug efficiently solved